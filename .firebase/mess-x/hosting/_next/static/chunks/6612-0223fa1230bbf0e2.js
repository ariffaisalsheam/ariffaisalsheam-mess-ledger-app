"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6612],{17313:(e,t,a)=>{a.d(t,{Xi:()=>d,av:()=>c,j7:()=>o,tU:()=>l});var r=a(95155),i=a(12115),s=a(60704),n=a(59434);let l=s.bL,o=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});o.displayName=s.B8.displayName;let d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});d.displayName=s.l9.displayName;let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});c.displayName=s.UC.displayName},60704:(e,t,a)=>{a.d(t,{B8:()=>q,UC:()=>F,bL:()=>E,l9:()=>T});var r=a(12115),i=a(85185),s=a(46081),n=a(89196),l=a(28905),o=a(63655),d=a(94315),c=a(5845),u=a(61285),p=a(95155),m="Tabs",[f,h]=(0,s.A)(m,[n.RG]),v=(0,n.RG)(),[b,x]=f(m),g=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,onValueChange:i,defaultValue:s,orientation:n="horizontal",dir:l,activationMode:f="automatic",...h}=e,v=(0,d.jH)(l),[x,g]=(0,c.i)({prop:r,onChange:i,defaultProp:null!=s?s:"",caller:m});return(0,p.jsx)(b,{scope:a,baseId:(0,u.B)(),value:x,onValueChange:g,orientation:n,dir:v,activationMode:f,children:(0,p.jsx)(o.sG.div,{dir:v,"data-orientation":n,...h,ref:t})})});g.displayName=m;var j="TabsList",N=r.forwardRef((e,t)=>{let{__scopeTabs:a,loop:r=!0,...i}=e,s=x(j,a),l=v(a);return(0,p.jsx)(n.bL,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:r,children:(0,p.jsx)(o.sG.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});N.displayName=j;var y="TabsTrigger",w=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,disabled:s=!1,...l}=e,d=x(y,a),c=v(a),u=k(d.baseId,r),m=S(d.baseId,r),f=r===d.value;return(0,p.jsx)(n.q7,{asChild:!0,...c,focusable:!s,active:f,children:(0,p.jsx)(o.sG.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...l,ref:t,onMouseDown:(0,i.m)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,i.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,i.m)(e.onFocus,()=>{let e="manual"!==d.activationMode;f||s||!e||d.onValueChange(r)})})})});w.displayName=y;var C="TabsContent",R=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,forceMount:s,children:n,...d}=e,c=x(C,a),u=k(c.baseId,i),m=S(c.baseId,i),f=i===c.value,h=r.useRef(f);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,p.jsx)(l.C,{present:s||f,children:a=>{let{present:r}=a;return(0,p.jsx)(o.sG.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:m,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&n})}})});function k(e,t){return"".concat(e,"-trigger-").concat(t)}function S(e,t){return"".concat(e,"-content-").concat(t)}R.displayName=C;var E=g,q=N,T=w,F=R},65842:(e,t,a)=>{a.d(t,{N:()=>m});var r=a(95155),i=a(12115),s=a(30285),n=a(54165),l=a(62523),o=a(85057),d=a(88539),c=a(50172),u=a(87481),p=a(98905);function m(e){let{isOpen:t,setIsOpen:a,expense:m,messId:f,onSuccess:h,isMemberRequest:v=!1}=e,[b,x]=(0,i.useState)(m.amount.toString()),[g,j]=(0,i.useState)(m.description),[N,y]=(0,i.useState)(!1),{toast:w}=(0,u.dj)(),C=async()=>{let e=parseFloat(b);if(!g.trim()||!b||isNaN(e)||e<=0)return void w({title:"Invalid Input",description:"Please enter a valid description and positive amount.",variant:"destructive"});if(e===m.amount&&g.trim()===m.description)return void a(!1);y(!0);try{v?(await (0,p.YG)(f,m,e,g.trim()),w({title:"Request Sent!",description:"Your edit request has been sent to the manager for approval."})):(await (0,p.eY)(f,m.id,e,g.trim()),w({title:"Success!",description:"The expense has been updated."})),h(),a(!1)}catch(e){console.error("Failed to update expense:",e),w({title:"Error",description:"Could not process the request. Please try again.",variant:"destructive"})}finally{y(!1)}};return(0,r.jsx)(n.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(n.Cf,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(n.c7,{children:[(0,r.jsx)(n.L3,{className:"font-headline",children:v?"Request Expense Edit":"Edit Expense"}),(0,r.jsx)(n.rr,{children:v?"Propose new details for this expense. This will be sent to the manager for approval.":"Update the expense details submitted by ".concat(m.addedBy,".")})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(o.J,{htmlFor:"description",className:"text-right",children:"Description"}),(0,r.jsx)(d.T,{id:"description",value:g,onChange:e=>j(e.target.value),className:"col-span-3",placeholder:"e.g., Weekly groceries"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(o.J,{htmlFor:"amount",className:"text-right",children:"Amount (৳)"}),(0,r.jsx)(l.p,{id:"amount",type:"number",value:b,onChange:e=>x(e.target.value),className:"col-span-3",placeholder:"e.g., 1250.50"})]})]}),(0,r.jsxs)(n.Es,{children:[(0,r.jsx)(s.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,r.jsxs)(s.$,{type:"submit",onClick:C,disabled:N,children:[N&&(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4 animate-spin"}),v?"Send Request":"Save Changes"]})]})]})})}},66424:(e,t,a)=>{a.d(t,{F:()=>l});var r=a(95155),i=a(12115),s=a(47655),n=a(59434);let l=i.forwardRef((e,t)=>{let{className:a,children:i,...l}=e;return(0,r.jsxs)(s.bL,{ref:t,className:(0,n.cn)("relative overflow-hidden",a),...l,children:[(0,r.jsx)(s.LM,{className:"h-full w-full rounded-[inherit]",children:i}),(0,r.jsx)(o,{}),(0,r.jsx)(s.OK,{})]})});l.displayName=s.bL.displayName;let o=i.forwardRef((e,t)=>{let{className:a,orientation:i="vertical",...l}=e;return(0,r.jsx)(s.VM,{ref:t,orientation:i,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,r.jsx)(s.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=s.VM.displayName},77128:(e,t,a)=>{a.d(t,{b:()=>p});var r=a(95155),i=a(12115),s=a(30285),n=a(54165),l=a(62523),o=a(85057),d=a(50172),c=a(87481),u=a(98905);function p(e){let{isOpen:t,setIsOpen:a,deposit:p,messId:m,onSuccess:f,isMemberRequest:h=!1}=e,[v,b]=(0,i.useState)(p.amount.toString()),[x,g]=(0,i.useState)(!1),{toast:j}=(0,c.dj)(),N=async()=>{let e=parseFloat(v);if(!v||isNaN(e)||e<=0)return void j({title:"Invalid Amount",description:"Please enter a valid positive number for the deposit amount.",variant:"destructive"});if(e===p.amount)return void a(!1);g(!0);try{h?(await (0,u.Oq)(m,p,e),j({title:"Request Sent!",description:"Your edit request has been sent to the manager for approval."})):(await (0,u.kQ)(m,p,e),j({title:"Success!",description:"The deposit has been updated."})),f(),a(!1)}catch(e){console.error("Failed to process deposit edit:",e),j({title:"Error",description:"Could not process the request. Please try again.",variant:"destructive"})}finally{g(!1)}};return(0,r.jsx)(n.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(n.Cf,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(n.c7,{children:[(0,r.jsx)(n.L3,{className:"font-headline",children:h?"Request Deposit Edit":"Edit Deposit"}),(0,r.jsx)(n.rr,{children:h?"Propose a new amount for this deposit. This will be sent to the manager for approval.":"Update the deposit amount for ".concat(p.memberName,". The member's balance will be adjusted automatically.")})]}),(0,r.jsx)("div",{className:"grid gap-4 py-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(o.J,{htmlFor:"amount",className:"text-right",children:"Amount (৳)"}),(0,r.jsx)(l.p,{id:"amount",type:"number",value:v,onChange:e=>b(e.target.value),className:"col-span-3",placeholder:"e.g., 2000"})]})}),(0,r.jsxs)(n.Es,{children:[(0,r.jsx)(s.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,r.jsxs)(s.$,{type:"submit",onClick:N,disabled:x,children:[x&&(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}),h?"Send Request":"Save Changes"]})]})]})})}},88539:(e,t,a)=>{a.d(t,{T:()=>n});var r=a(95155),i=a(12115),s=a(59434);let n=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});n.displayName="Textarea"}}]);