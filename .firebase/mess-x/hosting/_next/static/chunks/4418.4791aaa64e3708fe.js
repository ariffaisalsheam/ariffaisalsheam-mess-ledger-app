"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4418],{4418:(t,e,o)=>{o.r(e),o.d(e,{default:()=>l});var s=o(12115),i=o(56104),n=o(54177),a=o(87481),r=o(98905);let l=()=>{let{toast:t}=(0,a.dj)();return(0,s.useEffect)(()=>{if("serviceWorker"in navigator){let e=async()=>{if(i.BV&&i.j2.currentUser)try{let t=await Notification.requestPermission();if("granted"===t){console.log("Notification permission granted.");let t=await (0,n.gf)(i.BV,{vapidKey:"BNidbz_H0c7Phq7_p2TtlkbvN_caXyJ8eAmymQ2GVajskcjnxJvOVzN4Y6Fs9og8fdn5kUxHL-MuW0CC-3OxUIQ"});t?(console.log("FCM Token:",t),await (0,r.SM)(i.j2.currentUser.uid,t)):console.log("No registration token available. Request permission to generate one.")}else console.log("Unable to get permission to notify.")}catch(t){console.error("An error occurred while retrieving token. ",t)}},o=setTimeout(()=>{if(i.j2.currentUser)e();else{let t=i.j2.onAuthStateChanged(o=>{o&&(e(),t())})}},2e3),s=(0,n.xD)(i.BV,e=>{var o,s;console.log("Foreground message received.",e),t({title:(null==(o=e.notification)?void 0:o.title)||"New Notification",description:(null==(s=e.notification)?void 0:s.body)||""})});return()=>{clearTimeout(o),s()}}},[t]),null}},87481:(t,e,o)=>{o.d(e,{dj:()=>f});var s=o(12115);let i=0,n=new Map,a=t=>{if(n.has(t))return;let e=setTimeout(()=>{n.delete(t),u({type:"REMOVE_TOAST",toastId:t})},1e6);n.set(t,e)},r=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:o}=e;return o?a(o):t.toasts.forEach(t=>{a(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===o||void 0===o?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},l=[],c={toasts:[]};function u(t){c=r(c,t),l.forEach(t=>{t(c)})}function d(t){let{...e}=t,o=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>u({type:"DISMISS_TOAST",toastId:o});return u({type:"ADD_TOAST",toast:{...e,id:o,open:!0,onOpenChange:t=>{t||s()}}}),{id:o,dismiss:s,update:t=>u({type:"UPDATE_TOAST",toast:{...t,id:o}})}}function f(){let[t,e]=s.useState(c);return s.useEffect(()=>(l.push(e),()=>{let t=l.indexOf(e);t>-1&&l.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>u({type:"DISMISS_TOAST",toastId:t})}}}}]);